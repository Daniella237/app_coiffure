<div class="bg-white/70 backdrop-blur-lg rounded-3xl shadow-xl border border-white/20 p-8 sticky top-8 animate-slide-up" style="animation-delay: 0.2s;">
	<div class="text-center mb-8">
		<div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-teal-500 to-emerald-500 rounded-full mb-4">
			<svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m-2.4-1c-.216 0-.4.216-.4.4v.8c0 .184.184.4.4.4h1.6c.216 0 .4-.216.4-.4V4.2c0-.184-.184-.4-.4-.4H3c-.216 0-.4.216-.4.4V3z"></path>
				<circle cx="9" cy="20" r="1"></circle>
				<circle cx="20" cy="20" r="1"></circle>
			</svg>
		</div>
		<h2 class="text-2xl font-bold bg-gradient-to-r from-teal-600 to-emerald-600 bg-clip-text text-transparent mb-2">
			Ajouter au panier
		</h2>
		<p class="text-gray-600">Choisissez la quantité désirée</p>
	</div>

	{% if product.stockQuantity > 0 %}
		<form id="addToCartForm" class="space-y-6">
			<div class="modern-form-group">
				<label class="modern-form-label">
					<svg class="w-5 h-5 text-teal-600" fill="none" stroke="currentColor" viewbox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
					</svg>
					Quantité
				</label>
				<div class="flex items-center space-x-3">
					<button type="button" onclick="changeQuantity(-1)" class="w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors">
						<svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewbox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"></path>
						</svg>
					</button>
					<input type="number" id="quantity" name="quantity" value="1" min="1" max="{{ product.stockQuantity }}" class="w-20 text-center text-lg font-semibold border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500">
					<button type="button" onclick="changeQuantity(1)" class="w-10 h-10 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors">
						<svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewbox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
						</svg>
					</button>
				</div>
				<p class="text-xs text-gray-500 mt-2">Stock disponible:
					{{ product.stockQuantity }}</p>
			</div>

			<div class="bg-teal-50 rounded-2xl p-4 border border-teal-100">
				<div class="flex justify-between items-center">
					<span class="text-gray-700 font-medium">Prix total :</span>
					<span id="totalPrice" class="text-2xl font-bold text-teal-600">{{ product.price }}€</span>
				</div>
			</div>

			<button type="submit" id="addToCartBtn" class="w-full bg-gradient-to-r from-teal-600 to-emerald-600 hover:from-teal-700 hover:to-emerald-700 text-white font-semibold py-4 px-6 rounded-2xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg">
				<svg class="w-5 h-5 inline mr-2" fill="none" stroke="currentColor" viewbox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m-2.4-1c-.216 0-.4.216-.4.4v.8c0 .184.184.4.4.4h1.6c.216 0 .4-.216.4-.4V4.2c0-.184-.184-.4-.4-.4H3c-.216 0-.4.216-.4.4V3z"></path>
					<circle cx="9" cy="20" r="1"></circle>
					<circle cx="20" cy="20" r="1"></circle>
				</svg>
				Ajouter au panier
			</button>
		</form>
	{% else %}
		<div class="text-center py-8">
			<div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
				<svg class="w-8 h-8 text-red-600" fill="currentColor" viewbox="0 0 20 20">
					<path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path>
				</svg>
			</div>
			<h3 class="text-xl font-semibold text-gray-900 mb-2">Produit indisponible</h3>
			<p class="text-gray-600 mb-6">Ce produit est actuellement en rupture de stock</p>
			<button disabled class="w-full bg-gray-300 text-gray-500 font-semibold py-4 px-6 rounded-2xl cursor-not-allowed">
				Rupture de stock
			</button>
		</div>
	{% endif %}

	<div class="mt-8 pt-8 border-t border-gray-200 space-y-4">
		<div class="flex items-center text-sm text-gray-600">
			<svg class="w-5 h-5 mr-3 text-green-500" fill="currentColor" viewbox="0 0 20 20">
				<path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
			</svg>
			Livraison gratuite dès 50€
		</div>
		<div class="flex items-center text-sm text-gray-600">
			<svg class="w-5 h-5 mr-3 text-green-500" fill="currentColor" viewbox="0 0 20 20">
				<path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
			</svg>
			Retour gratuit sous 30 jours
		</div>
		<div class="flex items-center text-sm text-gray-600">
			<svg class="w-5 h-5 mr-3 text-green-500" fill="currentColor" viewbox="0 0 20 20">
				<path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
			</svg>
			Paiement sécurisé
		</div>
	</div>
</div>
